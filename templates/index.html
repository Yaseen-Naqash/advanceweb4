<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}" />
    <title></title>
  </head>
  <body>
    <!-- Hamber menu -->
    <div id="hamber_body">
      <nav>
        <ul class="hamber_nav">
          <li><a href="index.html">Home</a></li>
          <li><a href="#">Products</a></li>
          <li><a href="#">Categories</a></li>
          <li><a href="pages/contact-us.html">Contact us</a></li>
        </ul>
      </nav>
    </div>

    <!-- Header -->
    <header>
      <div class="container">
        <nav>
          <div class="header_wrapper">
            <img src="{% static 'assets/images/logo.svg' %}" alt="Site logo" />
            <ul class="nav_menu">
              <li><a href="{% url 'home_url' %}">Home</a></li>
              <li><a href="#">Products</a></li>
              <li><a href="#">Categories</a></li>
              <li><a href="">Contact us</a></li>
            </ul>
            <div class="header_btns">
              {% if user.is_authenticated %}
                <h2><strong>{{ user.username }}</strong></h2>
                <a href="{% url 'logout_url' %}" style="padding: 20px;"><strong>LOG OUT</strong></a>
              {% else %}
                <a href="{% url 'login_url' %}" class="account_btn">Login | Sign up</a>
              {% endif %}
              
              <button id="hamber_btn">
                <img src="{% static 'assets/images/icons/menus.png' %}" alt="hamber_menu" />
              </button>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <!-- Intro -->
      <section class="intro">
        <div class="container">
          <div class="intro_wrapper">
            <div class="intro_part">
              <div class="intro_left">
                <h1>
                  Everything you love,<br />
                  delivered to your door
                </h1>
                <button class="etc">Shop Now!</button>
              </div>
            </div>
            <div class="intro_part">
              <div class="intro_right">
                <img
                  src="{% static 'assets/images/page-intro.png' %}"
                  alt="Page-intro-image"
                />
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- New Products -->
      <section class="new_products">
        <form action="" method="GET">
          <section class="filter-section">
            <!-- Search Input -->
            <div class="filter-group">
                <span class="filter-title">Search</span>
                <input type="text" class="search-input" placeholder="Enter keywords..." name="q">
            </div>
            
            <!-- Checkbox Options -->
            <div class="filter-group">
                <span class="filter-title">Category</span>
                <div class="checkbox-group">
                    <div class="checkbox-option">
                        <input type="checkbox" id="option1" name="category" value="0">
                        <label for="option1">M</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="option2" name="category" value="1">
                        <label for="option2">L</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="option3" name="category" value="2">
                        <label for="option3">XL</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="option4" name="category" value="3">
                        <label for="option4">XXL</label>
                    </div>
                </div>
            </div>
            
            <!-- Price Range -->
            <div class="filter-group">
                <span class="filter-title">Price Range</span>
                <div class="price-range-container">
                    <input type="range" min="0" max="1000" name="price" value="200" class="price-slider" id="priceSlider">
                    <div class="price-values">
                        <div class="price-value">Min: $<span id="minPrice">0</span></div>
                        <div class="price-value">Max: $<span id="maxPrice">200</span></div>
                    </div>
                </div>
            </div>
            <button type="submit">Search . . .</button>
          </section>
        </form>
        <div class="container">
          <h2>New Products</h2>

          <div class="products">

            {% for product in products %}
            <!-- Product 1 -->
            <div class="product">
              <div class="product_card">
                <img src="{{ product.image.url }}" alt="Product-1" />
                <div class="card_body">
                  <div class="body_part">
                    <p class="title">{{ product.title }}</p>
                    <p class="price"{% if product.price == product.final_price %}style="text-decoration: none;"{% endif %} >{{ product.price }}$</p>
                  </div>
                  <div class="body_part">
                    <p class="description">Size {{ product.get_size_display }}</p>
                    {% if product.price != product.final_price %}
                    <p class="discount">{{ product.final_price }}$</p>
                    {% endif %}
                  </div>
                  <div class="product_btn">
                    <a href="{% url 'details_url' product.id %}" class="product_button">View</a>
                  </div>
                </div>
              </div>
            </div>

            {% endfor %}

          </div>
        </div>
      </section>

      <!-- About us -->
      <section class="about_us">
        <div class="container">
          <div class="about_wrapper">
            <div class="about_part">
              <div class="img_wrapper">
                <img
                  src="{% static 'assets/images/online-support.png' %}"
                  alt="online-support"
                />
              </div>
              <div class="body_wrapper">
                <h5>24-hour Support</h5>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
              </div>
            </div>
            <div class="about_part">
              <img src="{% static 'assets/images/post express.png' %}" alt="post-express" />
              <div class="body_wrapper">
                <h5>24-hour Support</h5>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
              </div>
            </div>
            <div class="about_part">
              <img src="{% static 'assets/images/safe payment.png' %}" alt="safe-payment" />
              <div class="body_wrapper">
                <h5>24-hour Support</h5>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
              </div>
            </div>
            <div class="about_part">
              <img src="{% static 'assets/images/store.png' %}" alt="store" />
              <div class="body_wrapper">
                <h5>24-hour Support</h5>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer_wrapper">
          <div class="footer_part">
            <h3>About Us</h3>
            <p>
              Lorem, ipsum dolor sit amet consectetur adipisicing elit.Lorem,
              ipsum dolor sit amet consectetur adipisicing elit.
            </p>
          </div>
          <div class="footer_part">
            <h3>Categories</h3>
            <div class="list_wrapper">
              <ul>
                <li><a href="#">T-Shirt</a></li>
                <li><a href="#">T-Shirt</a></li>
                <li><a href="#">T-Shirt</a></li>
                <li><a href="#">T-Shirt</a></li>
              </ul>
            </div>
          </div>
          <div class="footer_part">
            <h3>Contact Us</h3>

            <p><span>Number:</span> +8999999999</p>
            <p><span>Gmail:</span> test@test.com</p>
            <p><span>Address:</span> USA</p>
          </div>
          <div class="footer_part">
            <div class="footer_logo">
              <img src="{% static 'assets/images/logo.svg' %}" alt="footer-site-logo" />
            </div>
          </div>
        </div>
        <div class="under_footer">
          <div class="under_part">
            <a href="#"
              ><img
                src="{% static 'assets/images/icons/instagram-167-svgrepo-com.svg' %}"
                alt="instagram"
            /></a>
            <a href="#"
              ><img
                src="{% static 'assets/images/icons/twitter-boxed-svgrepo-com.svg' %}"
                alt="twitter"
            /></a>
            <a href="#"
              ><img
                src="{% static 'assets/images/icons/telegram-svgrepo-com.svg' %}"
                alt="telegram"
            /></a>
          </div>
          <div class="under_part">Test test test test testtest test</div>
        </div>
      </div>
    </footer>
    <script>
        // Price Range Slider Functionality
        const priceSlider = document.getElementById('priceSlider');
        const minPriceElement = document.getElementById('minPrice');
        const maxPriceElement = document.getElementById('maxPrice');
        
        // Initialize price display
        function updatePriceDisplay() {
            const currentValue = parseInt(priceSlider.value);
            minPriceElement.textContent = '0';
            maxPriceElement.textContent = currentValue.toString();
        }
        
        // Update price display when slider changes
        priceSlider.addEventListener('input', function() {
            updatePriceDisplay();
        });
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updatePriceDisplay();
            

            
            // Add functionality to checkboxes
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const selectedOptions = Array.from(checkboxes)
                        .filter(cb => cb.checked)
                        .map(cb => cb.value);
                    console.log('Selected categories:', selectedOptions);
                });
            });
        });
    </script>
    <script src="{% static 'js/script.js' %}"></script>
  </body>
</html>


